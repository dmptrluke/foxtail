{% extends "base.html" %}

{% block content %}
    <h1>Authorise {{ client.name }}</h1>

    <form method="post" action="{% url 'oidc_provider:authorize' %}">
        {% csrf_token %}
        {{ hidden_inputs }}

        {% if scopes %}
            <p>The service <strong>{{ client.name }}</strong> would like to access your <strong>{{ request.site.name }}</strong> account.
                The service is requesting the following information:</p>
            <ul>
                {% for scope in scopes %}
                    <li><strong>{{ scope.name }}</strong><br><i>{{ scope.description }}</i></li>
                {% endfor %}
            </ul>
        {% else %}
            <p>The service <strong>{{ client.name }}</strong> would like to access your <strong>{{ request.site.name }}</strong> account.</p>
        {% endif %}

        {% if client.terms_url %}
            <p>The privacy policy of {{ client.name }} can be viewed <a href="{{ client.terms_url }}">here</a>.</p>
        {% endif %}

        <div class="form-group">
            <input type="submit" class="btn btn-secondary" value="Decline"/>
            <input name="allow" type="submit" class="btn btn-primary" value="Authorize"/>
        </div>

    </form>
{% endblock content %}